{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 66777a4cbb384d716641","webpack:///./src/index.js"],"names":["MouseTracker","name","page","Page","eventContainer","analysisWrapper","AnalysisWrapper","cached","wrappers","sendAllRegisteredData","sendRegisteredMouseMovement","sendRegisteredClick","wrapper","listeners","forEach","listener","addClickListener","addMouseMoveListener","console","error","Inspector","eventContainerElement","event","pathDistanceElementSelected","searchPathElementDistance","pathElementDistanceContainer","searchPathElementContainerDistance","element","i","path","attributes","mouseTracker","undefined","node","tagAnalyticsElement","toElement","searchFirtFatherAnalyticsTag","length","id","nodeToFind","find","parentNode","valueKey","myArray","navigator","userAgent","indexOf","document","documentMode","width","window","innerWidth","height","innerHeight","browser","getBrowser","containers","container","push","data","Sender","sendJsonAllData","emptyContainersTracementList","clickData","sendJsonClickData","emptyClickContainers","mouseMovementData","sendJsonMouseMovementsData","emptyMouseMovementContainers","containerIsInWrapperList","clickListener","clearList","mouseMovementListener","ClickListener","clickList","addEventListener","registerClick","evt","setHeight","setWidth","click","Click","MouseMovementListener","movements","addListener","mouseIsOver","self","onmouseover","onmouseout","mouseX","clientX","mouseY","clientY","setInterval","registerMouseMovement","movement","MouseMovement","wrapperName","getElementById","addContainer","wrapperElement","dateTime","Date","now","x","pageXOffset","y","pageYOffset","selectedElement","findElementSelected","nameSelectedElement","nodeValue","message","log","mouseTrackerList","reporClicktToSend","JsonReport","createClickObjectToSend","reporMouseMovementstToSend","createMouseMovementObjectToSend","JSON","stringify","concat","pageClickList","reportToSend","movementsList","list","array","getList","ele","obj","type","namePage","heightPage","widthPage","getClickList"],"mappings":"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","file":"mouseTracker.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mouseTracker\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mouseTracker\"] = factory();\n\telse\n\t\troot[\"mouseTracker\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 66777a4cbb384d716641\n **/","export default class MouseTracker {\n      constructor() {}\n    \n      createPage(name){ //Creo la pagina   \n        let page = new Page(name);\n        return page;\n      }\n    \n      createAnalysisWrapper(page, eventContainer){ //Creo il wrapper su cui abilito gli analytics\n        let analysisWrapper = new AnalysisWrapper(page, eventContainer);\n        return analysisWrapper;\n      }\n    \n      getMouseEvents(page, cached = false, ...wrappers){\n         return page.sendAllRegisteredData(cached, wrappers);\n      }\n    \n      getMouseMovementEvents(page, cached = false, ...wrappers){\n         return page.sendRegisteredMouseMovement(cached,wrappers); \n      }\n      \n      getMouseClickEvents(page, cached = false, ...wrappers){ //array di wrapper in input\n          return page.sendRegisteredClick(cached, wrappers); \n      }\n    \n      addListener(wrapper, ...listeners){\n          listeners.forEach(function(listener){\n              switch(listener){\n                  case 'click': wrapper.addClickListener();\n                      break;\n                  case 'mouseMovement': wrapper.addMouseMoveListener();\n                      break;\n                  default: console.error('listener '+listener+' is not available');\n              }\n          });\n      }\n      \n      addAllListeners(wrapper){\n           wrapper.addClickListener();\n           wrapper.addMouseMoveListener();   \n      }\n}\n\nclass Inspector{\n    constructor(){}\n    \n    static findElementSelected(eventContainerElement, event) {\n          //prendo la distanza del path dell'elemento e la distanza del path container\n          let pathDistanceElementSelected = Inspector.searchPathElementDistance(event);\n          let pathElementDistanceContainer = Inspector.searchPathElementContainerDistance(event,eventContainerElement);\n          let element = null;\n        \n          for(let i=pathDistanceElementSelected; i<pathElementDistanceContainer; i++){ //Ciclo fino a trovare il primo elemento che si vuole analizzare -> lo riconosciamo attraverso l'attributo mouseTracker\n            if(event.path[i].attributes.mouseTracker !== undefined){\n                    element = event.path[i];\n                    break;\n                }\n          }\n          if(element === null)\n            return eventContainerElement;\n          return element;\n    }  //CLICK EVENT\n    \n    static searchPathElementDistance(node) {\n            let tagAnalyticsElement = node.toElement.attributes.mouseTracker;\n        // se l'elemento cliccato non ha tag analytics vado a prendermi il tagAnalytics del prima padre disponibile\n            if(node.toElement.attributes.mouseTracker === undefined){\n                tagAnalyticsElement = Inspector.searchFirtFatherAnalyticsTag(node);\n            }\n            \n            for(let i=0; i<node.path.length;i++){\n                if(node.path[i].attributes.mouseTracker !== undefined){\n                    if(node.path[i].attributes.mouseTracker === tagAnalyticsElement){\n                        return i;\n                    }\n                }\n            }        \n            return -1;\n    }   \n\n    static searchPathElementContainerDistance(node, eventContainerElement) {\n        for(let i=0; i<node.path.length;i++){\n            if(node.path[i].id === eventContainerElement.id){\n                return i;\n            }\n        }\n        return -1;  \n    }\n    \n    static searchFirtFatherAnalyticsTag(node) { //  vado a prendermi il tagAnalytics del prima padre disponibile\n        let tagAnalyticsElement;\n        let nodeToFind = node;\n        let find = false;\n        while(!find){\n            if(nodeToFind.toElement.parentNode.attributes.mouseTracker !== undefined){\n                tagAnalyticsElement = nodeToFind.toElement.parentNode.attributes.mouseTracker;\n                find = true;\n            }else{\n                nodeToFind = nodeToFind.toElement.parentNode;   \n            }\n        }\n        return tagAnalyticsElement;\n    }\n    \n    static containerIsInWrapperList(valueKey, myArray) {\n        for (var i=0; i < myArray.length; i++) {\n            if (myArray[i].name === valueKey) {\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    static getBrowser() {\n        if ((navigator.userAgent.indexOf('Opera') || navigator.userAgent.indexOf('OPR')) !== -1 )\n            return 'Opera';\n        else if (navigator.userAgent.indexOf('Chrome') !== -1 )\n            return 'Chrome';\n        else if (navigator.userAgent.indexOf('Safari') !== -1)\n            return 'Safari';\n        else if (navigator.userAgent.indexOf('Firefox') !== -1 ) \n            return 'Firefox';\n        else if ((navigator.userAgent.indexOf('MSIE') !== -1 )||(!!document.documentMode == true )) //IF IE > 10\n            return 'IE'; \n        else \n            return 'unknown';\n    }\n}\n\nclass Page{\n    constructor(name) {\n        this.name = name;\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n        this.browser = Inspector.getBrowser();\n        this.containers = []; //container all'interno della pagina\n    }\n    \n    setHeight(height) {\n        this.height = height;\n    }\n    \n    setWidth(width) {\n        this.width = width;\n    }\n    \n    addContainer(container) { //container di tipo AnalysisWrapper\n        this.containers.push(container);\n    }\n    \n    sendAllRegisteredData(cached, wrappers) {\n        let data = Sender.sendJsonAllData(this.containers, wrappers);\n        if(!cached)\n            this.emptyContainersTracementList(wrappers);\n        return data;\n    }\n    \n    sendRegisteredClick(cached, wrappers) {\n        let clickData = Sender.sendJsonClickData(this.containers, wrappers);\n        if(!cached)\n            this.emptyClickContainers(wrappers);\n        return clickData;\n    }\n    \n    sendRegisteredMouseMovement(cached, wrappers) {\n        let mouseMovementData = Sender.sendJsonMouseMovementsData(this.containers, wrappers);\n        if(!cached)\n            this.emptyMouseMovementContainers(wrappers);\n        return mouseMovementData;\n    }\n    \n    emptyContainersTracementList(wrappers) {\n        this.containers.forEach( function(container){\n            if(Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0){\n                container.clickListener.clearList();\n                container.mouseMovementListener.clearList();\n            }  \n        });\n    }  \n    \n    emptyClickContainers(wrappers) {\n        this.containers.forEach( function(container){\n            if(Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0)\n                container.clickListener.clearList();\n        });\n    }\n    \n    emptyMouseMovementContainers(wrappers) {\n        this.containers.forEach( function(container){\n            if(Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0)\n                container.mouseMovementListener.clearList();\n        });\n    }\n}\n\nclass ClickListener {\n    constructor(wrapper) {\n        this.clickList = [];\n        this.wrapper = wrapper;\n        this.wrapper.element.addEventListener('click', evt=>this.registerClick(evt));\n    }\n    \n    registerClick(event) {\n        this.wrapper.page.setHeight(window.innerHeight); // prendo altezza corrente della pagina browser\n        this.wrapper.page.setWidth(window.innerWidth); // prendo larghezza corrente della pagina browser\n        let click = new Click(this.wrapper, event); //con this gli passo l'oggetto AnalysisWrapper\n        //click.showInfo();\n        this.clickList.push(click);\n    }\n    \n    clearList() {\n        this.clickList.length = 0;\n    }\n    \n    getClickList() {\n        return this.clickList;\n    }\n}\n\nclass MouseMovementListener{\n    constructor(wrapper) {\n        this.movements = [];\n        this.wrapper = wrapper;\n        this.addListener();\n    }\n    \n    addListener() {\n        this.mouseIsOver = false;\n        let self = this;\n        //verifico se il mouse è sopra il wrapper per la registrazione della posizione\n        this.wrapper.element.onmouseover = function () {\n            self.mouseIsOver = true;\n        }\n        this.wrapper.element.onmouseout = function () {\n            self.mouseIsOver = false;\n        }\n        //Vado a prendermi le coordinate del mouse ad ogni movimento del mouse nella pagina\n        this.wrapper.element.addEventListener('mousemove', function(event){\n            window.mouseX = event.clientX;\n            window.mouseY = event.clientY;\n        });\n        //Registro la posizione del mouse solo ogni mezzo secondo\n        window.setInterval(function(event){\n            if(self.mouseIsOver){\n                self.registerMouseMovement(event);\n            }\n        }, 500);\n    }\n    \n    registerMouseMovement(event) {\n        this.wrapper.page.setHeight(window.innerHeight); // prendo altezza corrente della pagina browser\n        this.wrapper.page.setWidth(window.innerWidth); // prendo larghezza corrente della pagina browser\n        let movement = new MouseMovement(this.wrapper, window.mouseX, window.mouseY); //con this gli passo l'oggetto AnalysisWrapper\n       // movement.showInfo();\n        this.movements.push(movement);\n    }\n    \n    clearList() {\n        this.movements.length = 0;\n    }\n    \n    getList() {\n        return this.movements;\n    }\n}\n\nclass AnalysisWrapper{\n    /*\n        CONTIENE LE DUE LISTE DI EVENTI : CLICK, MOVEMENT\n    */\n    \n    constructor(page, wrapperName) { //page di tipo Page\n        this.page = page;\n        this.name = wrapperName;\n        this.element = document.getElementById(wrapperName);\n        this.page.addContainer(this);\n    }\n    \n    addClickListener() {\n        this.clickListener = new ClickListener(this);\n    }\n    \n    addMouseMoveListener() {\n        this.mouseMovementListener = new MouseMovementListener(this);\n    }\n}\n\nclass Click {\n    constructor(wrapperElement, event) {\n        this.wrapperElement = wrapperElement;\n        this.dateTime = Date.now();\n        this.x = event.x + window.pageXOffset;\n        this.y = event.y + window.pageYOffset;\n        this.selectedElement = Inspector.findElementSelected(this.wrapperElement.element, event); \n        this.nameSelectedElement = this.selectedElement.attributes.mouseTracker.nodeValue; //elemento specifico cliccato all'interno di containerElement (es. bottone)\n    }\n    \n    showInfo() {\n        let message = `Page ${this.wrapperElement.page.name} [width:${this.wrapperElement.page.width}, height: ${this.wrapperElement.page.height}] \\n Container: ${this.wrapperElement.name} \\n ### ${this.dateTime} - (x: ${this.x} y:${this.y}) ------ ${this.nameSelectedElement}`; \n        console.log(message);\n    } \n}\n\nclass MouseMovement {\n    constructor(wrapperElement, mouseX, mouseY) {\n        this.wrapperElement = wrapperElement;\n        this.dateTime = Date.now();\n        this.x = mouseX + window.pageXOffset; \n        this.y = mouseY + window.pageYOffset;\n    }\n    \n    showInfo() {\n        /*let message = `Page ${this.wrapperElement.page.name} [width:${this.wrapperElement.page.width}, height: ${this.wrapperElement.page.height}] \\n Container: ${this.wrapperElement.name} \\n ### ${this.dateTime} - (x: ${this.x} y:${this.y})`;*/\n        let message = `Page ${this.wrapperElement.page.name} ${this.wrapperElement.name} ### ${this.dateTime} - x: ${this.x} y:${this.y}`;\n        console.log(message);\n    }\n}\n\nclass Sender{\n    constructor() {};\n    \n    static sendJsonAllData(mouseTrackerList, wrappers) {\n        let reporClicktToSend = JsonReport.createClickObjectToSend(mouseTrackerList, wrappers);\n        let reporMouseMovementstToSend = JsonReport.createMouseMovementObjectToSend(mouseTrackerList, wrappers);\n        return JSON.stringify(reporClicktToSend.concat(reporMouseMovementstToSend));\n    }\n    \n    static sendJsonClickData(pageClickList, wrappers) {\n        let reportToSend = JsonReport.createClickObjectToSend(pageClickList, wrappers);\n        return JSON.stringify(reportToSend);\n    }\n    \n    static sendJsonMouseMovementsData(movementsList, wrappers) {\n        let reportToSend = JsonReport.createMouseMovementObjectToSend(movementsList, wrappers);\n        return JSON.stringify(reportToSend);\n    }\n}\n\nclass JsonReport {\n    constructor() {};\n    \n    static createMouseMovementObjectToSend(list, wrappers) { // arriva una lista di Container\n        let array = [];\n        list.forEach(function(container){\n            if(Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0){ //verifica se il container selezionato è tra quelli richiesti dall'utente, se wrappers è vuoto vuol dire che l'utente vuole prendere tutti i wrappers della pagina e quindi l'if sarà sempre true\n                container.mouseMovementListener.getList().forEach(function(ele){\n                    let obj ={\n                      type: 'move',\n                      dateTime: ele.dateTime,\n                      x: ele.x,\n                      y: ele.y,\n                      wrapperName: ele.wrapperElement.name,\n                      browser: ele.wrapperElement.page.browser,\n                      namePage: ele.wrapperElement.page.name,\n                      heightPage: ele.wrapperElement.page.height,\n                      widthPage: ele.wrapperElement.page.width,                    \n                    }\n                    array.push(obj);\n                });\n            }\n        });\n        return array;\n    }\n    \n    static createClickObjectToSend(list, wrappers) {\n       let array=[];\n       list.forEach(function(container){\n         if(Inspector.containerIsInWrapperList(container.name,wrappers) || wrappers.length == 0){ //verifica se il container selezionato è tra quelli richiesti dall'utente, se wrappers è vuoto vuol dire che l'utente vuole prendere tutti i wrappers della pagina e quindi l'if sarà sempre true\n                container.clickListener.getClickList().forEach(function(ele){\n                    let obj ={\n                      type: 'click',\n                      dateTime: ele.dateTime,\n                      nameSelectedElement: ele.nameSelectedElement,\n                      x: ele.x,\n                      y: ele.y,\n                      wrapperName: ele.wrapperElement.name,\n                      browser: ele.wrapperElement.page.browser,\n                      namePage: ele.wrapperElement.page.name,\n                      heightPage: ele.wrapperElement.page.height,\n                      widthPage: ele.wrapperElement.page.width\n                    }\n                    array.push(obj);\n                }); \n         }\n       });\n      return array;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/Luca Fornaciari/Documents/Personale/progettiPersonali/mouseTracker/~/eslint-loader!./src/index.js\n **/"],"sourceRoot":""}