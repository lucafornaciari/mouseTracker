{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mouseTracker.min.js","webpack:///webpack/bootstrap 26e56e24e8b1d285f3e8","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","MouseTracker","name","page","Page","eventContainer","analysisWrapper","AnalysisWrapper","cached","arguments","undefined","_len","wrappers","Array","_key","sendAllRegisteredData","_len2","_key2","sendRegisteredMouseMovement","_len3","_key3","sendRegisteredClick","wrapper","_len4","listeners","_key4","forEach","listener","addClickListener","addMouseMoveListener","console","error","Inspector","eventContainerElement","event","pathDistanceElementSelected","searchPathElementDistance","pathElementDistanceContainer","searchPathElementContainerDistance","element","path","attributes","mouseTracker","node","tagAnalyticsElement","toElement","searchFirtFatherAnalyticsTag","nodeToFind","find","parentNode","valueKey","myArray","navigator","userAgent","indexOf","document","documentMode","width","window","innerWidth","height","innerHeight","browser","getBrowser","containers","container","push","data","Sender","sendJsonAllData","emptyContainersTracementList","clickData","sendJsonClickData","emptyClickContainers","mouseMovementData","sendJsonMouseMovementsData","emptyMouseMovementContainers","containerIsInWrapperList","clickListener","clearList","mouseMovementListener","ClickListener","_this","clickList","addEventListener","evt","registerClick","setHeight","setWidth","click","Click","MouseMovementListener","movements","addListener","mouseIsOver","self","onmouseover","onmouseout","mouseX","clientX","mouseY","clientY","setInterval","registerMouseMovement","movement","MouseMovement","wrapperName","getElementById","addContainer","wrapperElement","dateTime","Date","now","x","pageXOffset","y","pageYOffset","selectedElement","findElementSelected","nameSelectedElement","nodeValue","message","log","mouseTrackerList","reporClicktToSend","JsonReport","createClickObjectToSend","reporMouseMovementstToSend","createMouseMovementObjectToSend","JSON","stringify","concat","pageClickList","reportToSend","movementsList","list","array","getList","ele","obj","type","namePage","heightPage","widthPage","getClickList"],"mappings":"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","file":"mouseTracker.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mouseTracker\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mouseTracker\"] = factory();\n\telse\n\t\troot[\"mouseTracker\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mouseTracker\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mouseTracker\"] = factory();\n\telse\n\t\troot[\"mouseTracker\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar MouseTracker = function () {\n\t    function MouseTracker() {\n\t        _classCallCheck(this, MouseTracker);\n\t    }\n\t\n\t    _createClass(MouseTracker, [{\n\t        key: 'createPage',\n\t        value: function createPage(name) {\n\t            //Creo la pagina   \n\t            var page = new Page(name);\n\t            return page;\n\t        }\n\t    }, {\n\t        key: 'createAnalysisWrapper',\n\t        value: function createAnalysisWrapper(page, eventContainer) {\n\t            //Creo il wrapper su cui abilito gli analytics\n\t            var analysisWrapper = new AnalysisWrapper(page, eventContainer);\n\t            return analysisWrapper;\n\t        }\n\t    }, {\n\t        key: 'getMouseEvents',\n\t        value: function getMouseEvents(page) {\n\t            var cached = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t            for (var _len = arguments.length, wrappers = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t                wrappers[_key - 2] = arguments[_key];\n\t            }\n\t\n\t            return page.sendAllRegisteredData(cached, wrappers);\n\t        }\n\t    }, {\n\t        key: 'getMouseMovementEvents',\n\t        value: function getMouseMovementEvents(page) {\n\t            var cached = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t            for (var _len2 = arguments.length, wrappers = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n\t                wrappers[_key2 - 2] = arguments[_key2];\n\t            }\n\t\n\t            return page.sendRegisteredMouseMovement(cached, wrappers);\n\t        }\n\t    }, {\n\t        key: 'getMouseClickEvents',\n\t        value: function getMouseClickEvents(page) {\n\t            var cached = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t            for (var _len3 = arguments.length, wrappers = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n\t                wrappers[_key3 - 2] = arguments[_key3];\n\t            }\n\t\n\t            //array di wrapper in input\n\t            return page.sendRegisteredClick(cached, wrappers);\n\t        }\n\t    }, {\n\t        key: 'addListener',\n\t        value: function addListener(wrapper) {\n\t            for (var _len4 = arguments.length, listeners = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n\t                listeners[_key4 - 1] = arguments[_key4];\n\t            }\n\t\n\t            listeners.forEach(function (listener) {\n\t                switch (listener) {\n\t                    case 'click':\n\t                        wrapper.addClickListener();\n\t                        break;\n\t                    case 'mouseMovement':\n\t                        wrapper.addMouseMoveListener();\n\t                        break;\n\t                    default:\n\t                        console.error('listener ' + listener + ' is not available');\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'addAllListeners',\n\t        value: function addAllListeners(wrapper) {\n\t            wrapper.addClickListener();\n\t            wrapper.addMouseMoveListener();\n\t        }\n\t    }]);\n\t\n\t    return MouseTracker;\n\t}();\n\t\n\texports.default = MouseTracker;\n\t\n\tvar Inspector = function () {\n\t    function Inspector() {\n\t        _classCallCheck(this, Inspector);\n\t    }\n\t\n\t    _createClass(Inspector, null, [{\n\t        key: 'findElementSelected',\n\t        value: function findElementSelected(eventContainerElement, event) {\n\t            //prendo la distanza del path dell'elemento e la distanza del path container\n\t            var pathDistanceElementSelected = Inspector.searchPathElementDistance(event);\n\t            var pathElementDistanceContainer = Inspector.searchPathElementContainerDistance(event, eventContainerElement);\n\t            var element = null;\n\t\n\t            for (var i = pathDistanceElementSelected; i < pathElementDistanceContainer; i++) {\n\t                //Ciclo fino a trovare il primo elemento che si vuole analizzare -> lo riconosciamo attraverso l'attributo mouseTracker\n\t                if (event.path[i].attributes.mouseTracker !== undefined) {\n\t                    element = event.path[i];\n\t                    break;\n\t                }\n\t            }\n\t            if (element === null) return eventContainerElement;\n\t            return element;\n\t        } //CLICK EVENT\n\t\n\t    }, {\n\t        key: 'searchPathElementDistance',\n\t        value: function searchPathElementDistance(node) {\n\t            var tagAnalyticsElement = node.toElement.attributes.mouseTracker;\n\t            // se l'elemento cliccato non ha tag analytics vado a prendermi il tagAnalytics del prima padre disponibile\n\t            if (node.toElement.attributes.mouseTracker === undefined) {\n\t                tagAnalyticsElement = Inspector.searchFirtFatherAnalyticsTag(node);\n\t            }\n\t\n\t            for (var i = 0; i < node.path.length; i++) {\n\t                if (node.path[i].attributes.mouseTracker !== undefined) {\n\t                    if (node.path[i].attributes.mouseTracker === tagAnalyticsElement) {\n\t                        return i;\n\t                    }\n\t                }\n\t            }\n\t            return -1;\n\t        }\n\t    }, {\n\t        key: 'searchPathElementContainerDistance',\n\t        value: function searchPathElementContainerDistance(node, eventContainerElement) {\n\t            for (var i = 0; i < node.path.length; i++) {\n\t                if (node.path[i].id === eventContainerElement.id) {\n\t                    return i;\n\t                }\n\t            }\n\t            return -1;\n\t        }\n\t    }, {\n\t        key: 'searchFirtFatherAnalyticsTag',\n\t        value: function searchFirtFatherAnalyticsTag(node) {\n\t            //  vado a prendermi il tagAnalytics del prima padre disponibile\n\t            var tagAnalyticsElement = void 0;\n\t            var nodeToFind = node;\n\t            var find = false;\n\t            while (!find) {\n\t                if (nodeToFind.toElement.parentNode.attributes.mouseTracker !== undefined) {\n\t                    tagAnalyticsElement = nodeToFind.toElement.parentNode.attributes.mouseTracker;\n\t                    find = true;\n\t                } else {\n\t                    nodeToFind = nodeToFind.toElement.parentNode;\n\t                }\n\t            }\n\t            return tagAnalyticsElement;\n\t        }\n\t    }, {\n\t        key: 'containerIsInWrapperList',\n\t        value: function containerIsInWrapperList(valueKey, myArray) {\n\t            for (var i = 0; i < myArray.length; i++) {\n\t                if (myArray[i].name === valueKey) {\n\t                    return true;\n\t                }\n\t            }\n\t            return false;\n\t        }\n\t    }, {\n\t        key: 'getBrowser',\n\t        value: function getBrowser() {\n\t            if ((navigator.userAgent.indexOf('Opera') || navigator.userAgent.indexOf('OPR')) !== -1) return 'Opera';else if (navigator.userAgent.indexOf('Chrome') !== -1) return 'Chrome';else if (navigator.userAgent.indexOf('Safari') !== -1) return 'Safari';else if (navigator.userAgent.indexOf('Firefox') !== -1) return 'Firefox';else if (navigator.userAgent.indexOf('MSIE') !== -1 || !!document.documentMode == true) //IF IE > 10\n\t                return 'IE';else return 'unknown';\n\t        }\n\t    }]);\n\t\n\t    return Inspector;\n\t}();\n\t\n\tvar Page = function () {\n\t    function Page(name) {\n\t        _classCallCheck(this, Page);\n\t\n\t        this.name = name;\n\t        this.width = window.innerWidth;\n\t        this.height = window.innerHeight;\n\t        this.browser = Inspector.getBrowser();\n\t        this.containers = []; //container all'interno della pagina\n\t    }\n\t\n\t    _createClass(Page, [{\n\t        key: 'setHeight',\n\t        value: function setHeight(height) {\n\t            this.height = height;\n\t        }\n\t    }, {\n\t        key: 'setWidth',\n\t        value: function setWidth(width) {\n\t            this.width = width;\n\t        }\n\t    }, {\n\t        key: 'addContainer',\n\t        value: function addContainer(container) {\n\t            //container di tipo AnalysisWrapper\n\t            this.containers.push(container);\n\t        }\n\t    }, {\n\t        key: 'sendAllRegisteredData',\n\t        value: function sendAllRegisteredData(cached, wrappers) {\n\t            var data = Sender.sendJsonAllData(this.containers, wrappers);\n\t            if (!cached) this.emptyContainersTracementList(wrappers);\n\t            return data;\n\t        }\n\t    }, {\n\t        key: 'sendRegisteredClick',\n\t        value: function sendRegisteredClick(cached, wrappers) {\n\t            var clickData = Sender.sendJsonClickData(this.containers, wrappers);\n\t            if (!cached) this.emptyClickContainers(wrappers);\n\t            return clickData;\n\t        }\n\t    }, {\n\t        key: 'sendRegisteredMouseMovement',\n\t        value: function sendRegisteredMouseMovement(cached, wrappers) {\n\t            var mouseMovementData = Sender.sendJsonMouseMovementsData(this.containers, wrappers);\n\t            if (!cached) this.emptyMouseMovementContainers(wrappers);\n\t            return mouseMovementData;\n\t        }\n\t    }, {\n\t        key: 'emptyContainersTracementList',\n\t        value: function emptyContainersTracementList(wrappers) {\n\t            this.containers.forEach(function (container) {\n\t                if (Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0) {\n\t                    container.clickListener.clearList();\n\t                    container.mouseMovementListener.clearList();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'emptyClickContainers',\n\t        value: function emptyClickContainers(wrappers) {\n\t            this.containers.forEach(function (container) {\n\t                if (Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0) container.clickListener.clearList();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'emptyMouseMovementContainers',\n\t        value: function emptyMouseMovementContainers(wrappers) {\n\t            this.containers.forEach(function (container) {\n\t                if (Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0) container.mouseMovementListener.clearList();\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Page;\n\t}();\n\t\n\tvar ClickListener = function () {\n\t    function ClickListener(wrapper) {\n\t        var _this = this;\n\t\n\t        _classCallCheck(this, ClickListener);\n\t\n\t        this.clickList = [];\n\t        this.wrapper = wrapper;\n\t        this.wrapper.element.addEventListener('click', function (evt) {\n\t            return _this.registerClick(evt);\n\t        });\n\t    }\n\t\n\t    _createClass(ClickListener, [{\n\t        key: 'registerClick',\n\t        value: function registerClick(event) {\n\t            this.wrapper.page.setHeight(window.innerHeight); // prendo altezza corrente della pagina browser\n\t            this.wrapper.page.setWidth(window.innerWidth); // prendo larghezza corrente della pagina browser\n\t            var click = new Click(this.wrapper, event); //con this gli passo l'oggetto AnalysisWrapper\n\t            //click.showInfo();\n\t            this.clickList.push(click);\n\t        }\n\t    }, {\n\t        key: 'clearList',\n\t        value: function clearList() {\n\t            this.clickList.length = 0;\n\t        }\n\t    }, {\n\t        key: 'getClickList',\n\t        value: function getClickList() {\n\t            return this.clickList;\n\t        }\n\t    }]);\n\t\n\t    return ClickListener;\n\t}();\n\t\n\tvar MouseMovementListener = function () {\n\t    function MouseMovementListener(wrapper) {\n\t        _classCallCheck(this, MouseMovementListener);\n\t\n\t        this.movements = [];\n\t        this.wrapper = wrapper;\n\t        this.addListener();\n\t    }\n\t\n\t    _createClass(MouseMovementListener, [{\n\t        key: 'addListener',\n\t        value: function addListener() {\n\t            this.mouseIsOver = false;\n\t            var self = this;\n\t            //verifico se il mouse è sopra il wrapper per la registrazione della posizione\n\t            this.wrapper.element.onmouseover = function () {\n\t                self.mouseIsOver = true;\n\t            };\n\t            this.wrapper.element.onmouseout = function () {\n\t                self.mouseIsOver = false;\n\t            };\n\t            //Vado a prendermi le coordinate del mouse ad ogni movimento del mouse nella pagina\n\t            this.wrapper.element.addEventListener('mousemove', function (event) {\n\t                window.mouseX = event.clientX;\n\t                window.mouseY = event.clientY;\n\t            });\n\t            //Registro la posizione del mouse solo ogni mezzo secondo\n\t            window.setInterval(function (event) {\n\t                if (self.mouseIsOver) {\n\t                    self.registerMouseMovement(event);\n\t                }\n\t            }, 500);\n\t        }\n\t    }, {\n\t        key: 'registerMouseMovement',\n\t        value: function registerMouseMovement(event) {\n\t            this.wrapper.page.setHeight(window.innerHeight); // prendo altezza corrente della pagina browser\n\t            this.wrapper.page.setWidth(window.innerWidth); // prendo larghezza corrente della pagina browser\n\t            var movement = new MouseMovement(this.wrapper, window.mouseX, window.mouseY); //con this gli passo l'oggetto AnalysisWrapper\n\t            // movement.showInfo();\n\t            this.movements.push(movement);\n\t        }\n\t    }, {\n\t        key: 'clearList',\n\t        value: function clearList() {\n\t            this.movements.length = 0;\n\t        }\n\t    }, {\n\t        key: 'getList',\n\t        value: function getList() {\n\t            return this.movements;\n\t        }\n\t    }]);\n\t\n\t    return MouseMovementListener;\n\t}();\n\t\n\tvar AnalysisWrapper = function () {\n\t    /*\n\t        CONTIENE LE DUE LISTE DI EVENTI : CLICK, MOVEMENT\n\t    */\n\t\n\t    function AnalysisWrapper(page, wrapperName) {\n\t        _classCallCheck(this, AnalysisWrapper);\n\t\n\t        //page di tipo Page\n\t        this.page = page;\n\t        this.name = wrapperName;\n\t        this.element = document.getElementById(wrapperName);\n\t        this.page.addContainer(this);\n\t    }\n\t\n\t    _createClass(AnalysisWrapper, [{\n\t        key: 'addClickListener',\n\t        value: function addClickListener() {\n\t            this.clickListener = new ClickListener(this);\n\t        }\n\t    }, {\n\t        key: 'addMouseMoveListener',\n\t        value: function addMouseMoveListener() {\n\t            this.mouseMovementListener = new MouseMovementListener(this);\n\t        }\n\t    }]);\n\t\n\t    return AnalysisWrapper;\n\t}();\n\t\n\tvar Click = function () {\n\t    function Click(wrapperElement, event) {\n\t        _classCallCheck(this, Click);\n\t\n\t        this.wrapperElement = wrapperElement;\n\t        this.dateTime = Date.now();\n\t        this.x = event.x + window.pageXOffset;\n\t        this.y = event.y + window.pageYOffset;\n\t        this.selectedElement = Inspector.findElementSelected(this.wrapperElement.element, event);\n\t        this.nameSelectedElement = this.selectedElement.attributes.mouseTracker.nodeValue; //elemento specifico cliccato all'interno di containerElement (es. bottone)\n\t    }\n\t\n\t    _createClass(Click, [{\n\t        key: 'showInfo',\n\t        value: function showInfo() {\n\t            var message = 'Page ' + this.wrapperElement.page.name + ' [width:' + this.wrapperElement.page.width + ', height: ' + this.wrapperElement.page.height + '] \\n Container: ' + this.wrapperElement.name + ' \\n ### ' + this.dateTime + ' - (x: ' + this.x + ' y:' + this.y + ') ------ ' + this.nameSelectedElement;\n\t            console.log(message);\n\t        }\n\t    }]);\n\t\n\t    return Click;\n\t}();\n\t\n\tvar MouseMovement = function () {\n\t    function MouseMovement(wrapperElement, mouseX, mouseY) {\n\t        _classCallCheck(this, MouseMovement);\n\t\n\t        this.wrapperElement = wrapperElement;\n\t        this.dateTime = Date.now();\n\t        this.x = mouseX + window.pageXOffset;\n\t        this.y = mouseY + window.pageYOffset;\n\t    }\n\t\n\t    _createClass(MouseMovement, [{\n\t        key: 'showInfo',\n\t        value: function showInfo() {\n\t            /*let message = `Page ${this.wrapperElement.page.name} [width:${this.wrapperElement.page.width}, height: ${this.wrapperElement.page.height}] \\n Container: ${this.wrapperElement.name} \\n ### ${this.dateTime} - (x: ${this.x} y:${this.y})`;*/\n\t            var message = 'Page ' + this.wrapperElement.page.name + ' ' + this.wrapperElement.name + ' ### ' + this.dateTime + ' - x: ' + this.x + ' y:' + this.y;\n\t            console.log(message);\n\t        }\n\t    }]);\n\t\n\t    return MouseMovement;\n\t}();\n\t\n\tvar Sender = function () {\n\t    function Sender() {\n\t        _classCallCheck(this, Sender);\n\t    }\n\t\n\t    _createClass(Sender, null, [{\n\t        key: 'sendJsonAllData',\n\t        value: function sendJsonAllData(mouseTrackerList, wrappers) {\n\t            var reporClicktToSend = JsonReport.createClickObjectToSend(mouseTrackerList, wrappers);\n\t            var reporMouseMovementstToSend = JsonReport.createMouseMovementObjectToSend(mouseTrackerList, wrappers);\n\t            return JSON.stringify(reporClicktToSend.concat(reporMouseMovementstToSend));\n\t        }\n\t    }, {\n\t        key: 'sendJsonClickData',\n\t        value: function sendJsonClickData(pageClickList, wrappers) {\n\t            var reportToSend = JsonReport.createClickObjectToSend(pageClickList, wrappers);\n\t            return JSON.stringify(reportToSend);\n\t        }\n\t    }, {\n\t        key: 'sendJsonMouseMovementsData',\n\t        value: function sendJsonMouseMovementsData(movementsList, wrappers) {\n\t            var reportToSend = JsonReport.createMouseMovementObjectToSend(movementsList, wrappers);\n\t            return JSON.stringify(reportToSend);\n\t        }\n\t    }]);\n\t\n\t    return Sender;\n\t}();\n\t\n\tvar JsonReport = function () {\n\t    function JsonReport() {\n\t        _classCallCheck(this, JsonReport);\n\t    }\n\t\n\t    _createClass(JsonReport, null, [{\n\t        key: 'createMouseMovementObjectToSend',\n\t        value: function createMouseMovementObjectToSend(list, wrappers) {\n\t            // arriva una lista di Container\n\t            var array = [];\n\t            list.forEach(function (container) {\n\t                if (Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0) {\n\t                    //verifica se il container selezionato è tra quelli richiesti dall'utente, se wrappers è vuoto vuol dire che l'utente vuole prendere tutti i wrappers della pagina e quindi l'if sarà sempre true\n\t                    container.mouseMovementListener.getList().forEach(function (ele) {\n\t                        var obj = {\n\t                            type: 'move',\n\t                            dateTime: ele.dateTime,\n\t                            x: ele.x,\n\t                            y: ele.y,\n\t                            wrapperName: ele.wrapperElement.name,\n\t                            browser: ele.wrapperElement.page.browser,\n\t                            namePage: ele.wrapperElement.page.name,\n\t                            heightPage: ele.wrapperElement.page.height,\n\t                            widthPage: ele.wrapperElement.page.width\n\t                        };\n\t                        array.push(obj);\n\t                    });\n\t                }\n\t            });\n\t            return array;\n\t        }\n\t    }, {\n\t        key: 'createClickObjectToSend',\n\t        value: function createClickObjectToSend(list, wrappers) {\n\t            var array = [];\n\t            list.forEach(function (container) {\n\t                if (Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0) {\n\t                    //verifica se il container selezionato è tra quelli richiesti dall'utente, se wrappers è vuoto vuol dire che l'utente vuole prendere tutti i wrappers della pagina e quindi l'if sarà sempre true\n\t                    container.clickListener.getClickList().forEach(function (ele) {\n\t                        var obj = {\n\t                            type: 'click',\n\t                            dateTime: ele.dateTime,\n\t                            nameSelectedElement: ele.nameSelectedElement,\n\t                            x: ele.x,\n\t                            y: ele.y,\n\t                            wrapperName: ele.wrapperElement.name,\n\t                            browser: ele.wrapperElement.page.browser,\n\t                            namePage: ele.wrapperElement.page.name,\n\t                            heightPage: ele.wrapperElement.page.height,\n\t                            widthPage: ele.wrapperElement.page.width\n\t                        };\n\t                        array.push(obj);\n\t                    });\n\t                }\n\t            });\n\t            return array;\n\t        }\n\t    }]);\n\n\t    return JsonReport;\n\t}();\n\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** mouseTracker.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 26e56e24e8b1d285f3e8\n **/","export default class MouseTracker {\n      constructor() {}\n    \n      createPage(name){ //Creo la pagina   \n        let page = new Page(name);\n        return page;\n      }\n    \n      createAnalysisWrapper(page, eventContainer){ //Creo il wrapper su cui abilito gli analytics\n        let analysisWrapper = new AnalysisWrapper(page, eventContainer);\n        return analysisWrapper;\n      }\n    \n      getMouseEvents(page, cached = false, ...wrappers){\n         return page.sendAllRegisteredData(cached, wrappers);\n      }\n    \n      getMouseMovementEvents(page, cached = false, ...wrappers){\n         return page.sendRegisteredMouseMovement(cached,wrappers); \n      }\n      \n      getMouseClickEvents(page, cached = false, ...wrappers){ //array di wrapper in input\n          return page.sendRegisteredClick(cached, wrappers); \n      }\n    \n      addListener(wrapper, ...listeners){\n          listeners.forEach(function(listener){\n              switch(listener){\n                  case 'click': wrapper.addClickListener();\n                      break;\n                  case 'mouseMovement': wrapper.addMouseMoveListener();\n                      break;\n                  default: console.error('listener '+listener+' is not available');\n              }\n          });\n      }\n      \n      addAllListeners(wrapper){\n           wrapper.addClickListener();\n           wrapper.addMouseMoveListener();   \n      }\n}\n\nclass Inspector{\n    constructor(){}\n    \n    static findElementSelected(eventContainerElement, event) {\n          //prendo la distanza del path dell'elemento e la distanza del path container\n          let pathDistanceElementSelected = Inspector.searchPathElementDistance(event);\n          let pathElementDistanceContainer = Inspector.searchPathElementContainerDistance(event,eventContainerElement);\n          let element = null;\n        \n          for(let i=pathDistanceElementSelected; i<pathElementDistanceContainer; i++){ //Ciclo fino a trovare il primo elemento che si vuole analizzare -> lo riconosciamo attraverso l'attributo mouseTracker\n            if(event.path[i].attributes.mouseTracker !== undefined){\n                    element = event.path[i];\n                    break;\n                }\n          }\n          if(element === null)\n            return eventContainerElement;\n          return element;\n    }  //CLICK EVENT\n    \n    static searchPathElementDistance(node) {\n            let tagAnalyticsElement = node.toElement.attributes.mouseTracker;\n        // se l'elemento cliccato non ha tag analytics vado a prendermi il tagAnalytics del prima padre disponibile\n            if(node.toElement.attributes.mouseTracker === undefined){\n                tagAnalyticsElement = Inspector.searchFirtFatherAnalyticsTag(node);\n            }\n            \n            for(let i=0; i<node.path.length;i++){\n                if(node.path[i].attributes.mouseTracker !== undefined){\n                    if(node.path[i].attributes.mouseTracker === tagAnalyticsElement){\n                        return i;\n                    }\n                }\n            }        \n            return -1;\n    }   \n\n    static searchPathElementContainerDistance(node, eventContainerElement) {\n        for(let i=0; i<node.path.length;i++){\n            if(node.path[i].id === eventContainerElement.id){\n                return i;\n            }\n        }\n        return -1;  \n    }\n    \n    static searchFirtFatherAnalyticsTag(node) { //  vado a prendermi il tagAnalytics del prima padre disponibile\n        let tagAnalyticsElement;\n        let nodeToFind = node;\n        let find = false;\n        while(!find){\n            if(nodeToFind.toElement.parentNode.attributes.mouseTracker !== undefined){\n                tagAnalyticsElement = nodeToFind.toElement.parentNode.attributes.mouseTracker;\n                find = true;\n            }else{\n                nodeToFind = nodeToFind.toElement.parentNode;   \n            }\n        }\n        return tagAnalyticsElement;\n    }\n    \n    static containerIsInWrapperList(valueKey, myArray) {\n        for (var i=0; i < myArray.length; i++) {\n            if (myArray[i].name === valueKey) {\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    static getBrowser() {\n        if ((navigator.userAgent.indexOf('Opera') || navigator.userAgent.indexOf('OPR')) !== -1 )\n            return 'Opera';\n        else if (navigator.userAgent.indexOf('Chrome') !== -1 )\n            return 'Chrome';\n        else if (navigator.userAgent.indexOf('Safari') !== -1)\n            return 'Safari';\n        else if (navigator.userAgent.indexOf('Firefox') !== -1 ) \n            return 'Firefox';\n        else if ((navigator.userAgent.indexOf('MSIE') !== -1 )||(!!document.documentMode == true )) //IF IE > 10\n            return 'IE'; \n        else \n            return 'unknown';\n    }\n}\n\nclass Page{\n    constructor(name) {\n        this.name = name;\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n        this.browser = Inspector.getBrowser();\n        this.containers = []; //container all'interno della pagina\n    }\n    \n    setHeight(height) {\n        this.height = height;\n    }\n    \n    setWidth(width) {\n        this.width = width;\n    }\n    \n    addContainer(container) { //container di tipo AnalysisWrapper\n        this.containers.push(container);\n    }\n    \n    sendAllRegisteredData(cached, wrappers) {\n        let data = Sender.sendJsonAllData(this.containers, wrappers);\n        if(!cached)\n            this.emptyContainersTracementList(wrappers);\n        return data;\n    }\n    \n    sendRegisteredClick(cached, wrappers) {\n        let clickData = Sender.sendJsonClickData(this.containers, wrappers);\n        if(!cached)\n            this.emptyClickContainers(wrappers);\n        return clickData;\n    }\n    \n    sendRegisteredMouseMovement(cached, wrappers) {\n        let mouseMovementData = Sender.sendJsonMouseMovementsData(this.containers, wrappers);\n        if(!cached)\n            this.emptyMouseMovementContainers(wrappers);\n        return mouseMovementData;\n    }\n    \n    emptyContainersTracementList(wrappers) {\n        this.containers.forEach( function(container){\n            if(Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0){\n                container.clickListener.clearList();\n                container.mouseMovementListener.clearList();\n            }  \n        });\n    }  \n    \n    emptyClickContainers(wrappers) {\n        this.containers.forEach( function(container){\n            if(Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0)\n                container.clickListener.clearList();\n        });\n    }\n    \n    emptyMouseMovementContainers(wrappers) {\n        this.containers.forEach( function(container){\n            if(Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0)\n                container.mouseMovementListener.clearList();\n        });\n    }\n}\n\nclass ClickListener {\n    constructor(wrapper) {\n        this.clickList = [];\n        this.wrapper = wrapper;\n        this.wrapper.element.addEventListener('click', evt=>this.registerClick(evt));\n    }\n    \n    registerClick(event) {\n        this.wrapper.page.setHeight(window.innerHeight); // prendo altezza corrente della pagina browser\n        this.wrapper.page.setWidth(window.innerWidth); // prendo larghezza corrente della pagina browser\n        let click = new Click(this.wrapper, event); //con this gli passo l'oggetto AnalysisWrapper\n        //click.showInfo();\n        this.clickList.push(click);\n    }\n    \n    clearList() {\n        this.clickList.length = 0;\n    }\n    \n    getClickList() {\n        return this.clickList;\n    }\n}\n\nclass MouseMovementListener{\n    constructor(wrapper) {\n        this.movements = [];\n        this.wrapper = wrapper;\n        this.addListener();\n    }\n    \n    addListener() {\n        this.mouseIsOver = false;\n        let self = this;\n        //verifico se il mouse è sopra il wrapper per la registrazione della posizione\n        this.wrapper.element.onmouseover = function () {\n            self.mouseIsOver = true;\n        }\n        this.wrapper.element.onmouseout = function () {\n            self.mouseIsOver = false;\n        }\n        //Vado a prendermi le coordinate del mouse ad ogni movimento del mouse nella pagina\n        this.wrapper.element.addEventListener('mousemove', function(event){\n            window.mouseX = event.clientX;\n            window.mouseY = event.clientY;\n        });\n        //Registro la posizione del mouse solo ogni mezzo secondo\n        window.setInterval(function(event){\n            if(self.mouseIsOver){\n                self.registerMouseMovement(event);\n            }\n        }, 500);\n    }\n    \n    registerMouseMovement(event) {\n        this.wrapper.page.setHeight(window.innerHeight); // prendo altezza corrente della pagina browser\n        this.wrapper.page.setWidth(window.innerWidth); // prendo larghezza corrente della pagina browser\n        let movement = new MouseMovement(this.wrapper, window.mouseX, window.mouseY); //con this gli passo l'oggetto AnalysisWrapper\n       // movement.showInfo();\n        this.movements.push(movement);\n    }\n    \n    clearList() {\n        this.movements.length = 0;\n    }\n    \n    getList() {\n        return this.movements;\n    }\n}\n\nclass AnalysisWrapper{\n    /*\n        CONTIENE LE DUE LISTE DI EVENTI : CLICK, MOVEMENT\n    */\n    \n    constructor(page, wrapperName) { //page di tipo Page\n        this.page = page;\n        this.name = wrapperName;\n        this.element = document.getElementById(wrapperName);\n        this.page.addContainer(this);\n    }\n    \n    addClickListener() {\n        this.clickListener = new ClickListener(this);\n    }\n    \n    addMouseMoveListener() {\n        this.mouseMovementListener = new MouseMovementListener(this);\n    }\n}\n\nclass Click {\n    constructor(wrapperElement, event) {\n        this.wrapperElement = wrapperElement;\n        this.dateTime = Date.now();\n        this.x = event.x + window.pageXOffset;\n        this.y = event.y + window.pageYOffset;\n        this.selectedElement = Inspector.findElementSelected(this.wrapperElement.element, event); \n        this.nameSelectedElement = this.selectedElement.attributes.mouseTracker.nodeValue; //elemento specifico cliccato all'interno di containerElement (es. bottone)\n    }\n    \n    showInfo() {\n        let message = `Page ${this.wrapperElement.page.name} [width:${this.wrapperElement.page.width}, height: ${this.wrapperElement.page.height}] \\n Container: ${this.wrapperElement.name} \\n ### ${this.dateTime} - (x: ${this.x} y:${this.y}) ------ ${this.nameSelectedElement}`; \n        console.log(message);\n    } \n}\n\nclass MouseMovement {\n    constructor(wrapperElement, mouseX, mouseY) {\n        this.wrapperElement = wrapperElement;\n        this.dateTime = Date.now();\n        this.x = mouseX + window.pageXOffset; \n        this.y = mouseY + window.pageYOffset;\n    }\n    \n    showInfo() {\n        /*let message = `Page ${this.wrapperElement.page.name} [width:${this.wrapperElement.page.width}, height: ${this.wrapperElement.page.height}] \\n Container: ${this.wrapperElement.name} \\n ### ${this.dateTime} - (x: ${this.x} y:${this.y})`;*/\n        let message = `Page ${this.wrapperElement.page.name} ${this.wrapperElement.name} ### ${this.dateTime} - x: ${this.x} y:${this.y}`;\n        console.log(message);\n    }\n}\n\nclass Sender{\n    constructor() {};\n    \n    static sendJsonAllData(mouseTrackerList, wrappers) {\n        let reporClicktToSend = JsonReport.createClickObjectToSend(mouseTrackerList, wrappers);\n        let reporMouseMovementstToSend = JsonReport.createMouseMovementObjectToSend(mouseTrackerList, wrappers);\n        return JSON.stringify(reporClicktToSend.concat(reporMouseMovementstToSend));\n    }\n    \n    static sendJsonClickData(pageClickList, wrappers) {\n        let reportToSend = JsonReport.createClickObjectToSend(pageClickList, wrappers);\n        return JSON.stringify(reportToSend);\n    }\n    \n    static sendJsonMouseMovementsData(movementsList, wrappers) {\n        let reportToSend = JsonReport.createMouseMovementObjectToSend(movementsList, wrappers);\n        return JSON.stringify(reportToSend);\n    }\n}\n\nclass JsonReport {\n    constructor() {};\n    \n    static createMouseMovementObjectToSend(list, wrappers) { // arriva una lista di Container\n        let array = [];\n        list.forEach(function(container){\n            if(Inspector.containerIsInWrapperList(container.name, wrappers) || wrappers.length == 0){ //verifica se il container selezionato è tra quelli richiesti dall'utente, se wrappers è vuoto vuol dire che l'utente vuole prendere tutti i wrappers della pagina e quindi l'if sarà sempre true\n                container.mouseMovementListener.getList().forEach(function(ele){\n                    let obj ={\n                      type: 'move',\n                      dateTime: ele.dateTime,\n                      x: ele.x,\n                      y: ele.y,\n                      wrapperName: ele.wrapperElement.name,\n                      browser: ele.wrapperElement.page.browser,\n                      namePage: ele.wrapperElement.page.name,\n                      heightPage: ele.wrapperElement.page.height,\n                      widthPage: ele.wrapperElement.page.width,                    \n                    }\n                    array.push(obj);\n                });\n            }\n        });\n        return array;\n    }\n    \n    static createClickObjectToSend(list, wrappers) {\n       let array=[];\n       list.forEach(function(container){\n         if(Inspector.containerIsInWrapperList(container.name,wrappers) || wrappers.length == 0){ //verifica se il container selezionato è tra quelli richiesti dall'utente, se wrappers è vuoto vuol dire che l'utente vuole prendere tutti i wrappers della pagina e quindi l'if sarà sempre true\n                container.clickListener.getClickList().forEach(function(ele){\n                    let obj ={\n                      type: 'click',\n                      dateTime: ele.dateTime,\n                      nameSelectedElement: ele.nameSelectedElement,\n                      x: ele.x,\n                      y: ele.y,\n                      wrapperName: ele.wrapperElement.name,\n                      browser: ele.wrapperElement.page.browser,\n                      namePage: ele.wrapperElement.page.name,\n                      heightPage: ele.wrapperElement.page.height,\n                      widthPage: ele.wrapperElement.page.width\n                    }\n                    array.push(obj);\n                }); \n         }\n       });\n      return array;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/Luca Fornaciari/Documents/Personale/progettiPersonali/mouseTracker/~/eslint-loader!./src/index.js\n **/"],"sourceRoot":""}